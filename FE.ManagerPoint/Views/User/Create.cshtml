<!-- Modal Create -->
<div class="modal fade" id="createModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="createModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Tạo môn người dùng mới</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form id="user_create_form" class="needs-validation" novalidate>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-2">
                            <label for="user_Code" class="form-label">Mã người dùng</label>
                        </div>
                        <div class="col-md-10">
                            <input id="user_Code" class="form-control" type="text" required readonly />
                            <div class="invalid-feedback">
                                Xin hãy nhập tên người dùng!
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-2">
                            <label for="name" class="form-label">Họ và tên</label>
                        </div>
                        <div class="col-md-10">
                            <input id="name" type="text" class="form-control" onkeyup="generateStudentCode(this.value)" required />
                            <div class="invalid-feedback">
                                Xin hãy nhập họ và tên!
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-2">
                            <label for="gender" class="form-label">Giới tính</label>
                        </div>
                        <div class="col-md-10">
                            <select id="gender" class="form-control">
                                <option selected>--- Chọn giới tính ---</option>
                                <option value="1">Nam</option>
                                <option value="2">Nữ</option>
                                <option value="3">Khác</option>
                            </select>
                            <div class="invalid-feedback">
                                Xin hãy nhập giới tính!
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-2">
                            <label for="nation" class="form-label">Quốc tịch</label>
                        </div>
                        <div class="col-md-10">
                            <select id="nation" class="form-control">
                                <option selected>--- Chọn quốc tịch ---</option>
                                <option value="vi">Việt Nam</option>
                                <option value="kr">Hàn Quốc</option>
                                <option value="zh">Trung quốc</option>
                                <option value="us">Mỹ</option>
                                <option value="uk">Anh</option>
                            </select>
                            <div class="invalid-feedback">
                                Xin hãy quốc tịch!
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-2">
                            <label for="address" class="form-label">Địa chỉ</label>
                        </div>
                        <div class="col-md-10">
                            <input id="address" type="text" class="form-control" required />
                            <div class="invalid-feedback">
                                Xin hãy nhập địa chỉ!
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-2">
                            <label for="email" class="form-label">Email</label>
                        </div>
                        <div class="col-md-10">
                            <input id="email" type="email" class="form-control" required />
                            <div class="invalid-feedback">
                                Xin hãy nhập địa chỉ!
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-2">
                            <label for="phone" class="form-label">Số điện thoại</label>
                        </div>
                        <div class="col-md-10">
                            <input id="phone" type="number" maxlength="11" class="form-control" required />
                            <div class="invalid-feedback">
                                Xin hãy nhập số điện thoại!
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-2">
                            <label for="password" class="form-label">Mật khẩu</label>
                        </div>
                        <div class="col-md-10">
                            <input id="password" type="text" class="form-control" required />
                            <div class="invalid-feedback">
                                Xin hãy nhập mật khẩu!
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-2">
                            <label for="DOB" class="form-label">Năm sinh</label>
                        </div>
                        <div class="col-md-10">
                            <input id="DOB" type="date" class="form-control" required />
                            <div class="invalid-feedback">
                                Xin hãy nhập mật khẩu!
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-2">
                            <label for="description" class="form-label">Mô tả</label>
                        </div>
                        <div class="col-md-10">
                            <textarea id="description" type="text" class="form-control"></textarea>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-2">
                            <label for="avarta" class="form-label">Avatar</label>
                        </div>
                        <div class="col-md-10">
                            <input id="description" type="file" class="form-control" />
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="save" type="submit" class="btn btn-primary">Lưu</button>
                    <button id="un_save" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    function generateStudentCode(username) {
        var words = username.trim().split(' ');
        var code = 'HS_';
        for (var i = 0; i < words.length; i++) {
            if (words[i]) {
                var firstLetter = words[i][0].toUpperCase();
                code += firstLetter;
            }
        }
        var randomNumber = Math.floor(Math.random() * 10);
        code += "_" + randomNumber;
        $('#user_Code').val(code);
    }
    $(document).ready(function () {
        $('#un_save[data-bs-dismiss="modal"]').on('click', function () {
            $('#user_create_form').trigger('reset');
            if ($('#user_create_form').hasClass('was-validated')) {
                $('#user_create_form').removeClass('was-validated');
            }
        });
    });
</script>